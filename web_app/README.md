# 🎤 نظام طلب الطعام والقهوة الصوتي

[![Python](https://img.shields.io/badge/Python-3.7+-blue.svg)](https://python.org)
[![Flask](https://img.shields.io/badge/Flask-2.3+-green.svg)](https://flask.palletsprojects.com)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

تطبيق ويب تفاعلي يسمح للمستخدمين بطلب الطعام والقهوة باستخدام الأوامر الصوتية باللغة العربية. يستخدم تقنيات التعرف على الصوت وتحويل النص إلى كلام لإنشاء تجربة مستخدم سلسة.

## 🌟 الميزات

- 🎤 **التعرف على الصوت**: تحويل الكلام إلى نص باللغة العربية باستخدام Google Speech Recognition
- 🔊 **التحويل إلى صوت**: تحويل النص إلى كلام باللغة العربية باستخدام gTTS
- 🍕 **قائمة طعام ديناميكية**: عرض قائمة الطعام والقهوة مع الأسعار
- 📱 **واجهة تفاعلية**: تصميم عصري ومتجاوب باستخدام Bootstrap
- 📊 **تسجيل التفاعل**: حفظ جميع المحادثات للتحليل والتحسين
- 🎯 **ذكاء اصطناعي**: تحليل ذكي للطلبات وتوليد ردود مناسبة
- 🔧 **معالجة أخطاء شاملة**: تعامل مع مختلف تنسيقات الملفات الصوتية

## 🚀 التثبيت والتشغيل

### المتطلبات
- Python 3.7 أو أحدث
- ميكروفون للتسجيل
- متصفح حديث يدعم Web Audio API
- اتصال بالإنترنت للتعرف على الصوت

### 1. استنساخ المشروع
```bash
git clone https://github.com/atiaf77/voice-ordering-system.git
cd voice-ordering-system/web_app
```

### 2. تثبيت المتطلبات
```bash
pip install -r requirements.txt
```

### 3. تشغيل التطبيق
```bash
# النسخة المبسطة (موصى بها)
python app_simple.py

# أو النسخة المتقدمة (تتطلب pydub)
python app.py
```

### 4. فتح المتصفح
انتقل إلى: `http://127.0.0.1:5000`

## 🎯 كيفية الاستخدام

1. **اضغط على أيقونة الميكروفون** 🎤 لبدء التسجيل
2. **تحدث بوضوح** باللغة العربية
3. **اضغط على أيقونة الإيقاف** ⏹️ عند الانتهاء
4. **انتظر النتيجة** - سيتم عرض النص المُتعرف عليه والرد الصوتي

## 💬 أمثلة على الأوامر

| الأمر | الغرض |
|-------|--------|
| `"مرحباً"` | للترحيب والبدء |
| `"أريد قهوة"` | لعرض قائمة القهوة |
| `"أريد أكل"` | لعرض قائمة الطعام |
| `"إسبريسو"` | لطلب إسبريسو محدد |
| `"برجر"` | لطلب برجر |
| `"نعم أؤكد"` | لتأكيد الطلب |
| `"لا شكراً"` | لإلغاء الطلب |

## 📋 القائمة الحالية

### ☕ القهوة
| المنتج | السعر |
|--------|-------|
| إسبريسو | 15 ريال |
| لاتيه | 20 ريال |
| كابتشينو | 18 ريال |
| أمريكانو | 12 ريال |
| قهوة تركية | 10 ريال |

### 🍔 الطعام
| المنتج | السعر |
|--------|-------|
| برجر | 35 ريال |
| بيتزا | 40 ريال |
| سندويش | 25 ريال |
| سلطة | 20 ريال |
| معكرونة | 30 ريال |

## 🏗️ هيكل المشروع

```
web_app/
├── app.py                    # التطبيق الرئيسي (مع pydub)
├── app_simple.py            # النسخة المبسطة
├── audio_utils.py           # أدوات معالجة الصوت
├── requirements.txt         # المكتبات المطلوبة
├── run.bat                 # ملف تشغيل سريع
├── README.md               # دليل المشروع
├── AUDIO_TROUBLESHOOTING.md # دليل حل مشاكل الصوت
├── templates/
│   └── index.html          # واجهة المستخدم
├── static/                 # الملفات الثابتة (ملفات الصوت المُولدة)
└── audio_files/           # الملفات الصوتية المُسجلة
```

## 🔧 التخصيص

### إضافة عناصر جديدة للقائمة
عدّل المتغير `MENU` في `app.py` أو `app_simple.py`:

```python
MENU = {
    "قهوة": {
        "منتج جديد": 25,
        # ...
    },
    "أكل": {
        "وجبة جديدة": 45,
        # ...
    }
}
```

### تخصيص الردود
عدّل دالة `analyze_order()` لإضافة منطق جديد:

```python
def analyze_order(text):
    # أضف كلمات مفتاحية جديدة
    new_keywords = ["كلمة جديدة"]
    if any(keyword in text_lower for keyword in new_keywords):
        return "رد مخصص"
```

## 🛠️ استكشاف الأخطاء

### مشاكل شائعة وحلولها

| المشكلة | الحل |
|---------|------|
| `Audio file could not be read` | استخدم `app_simple.py` أو ثبت `pydub` |
| لا يتعرف على الصوت | تحقق من إعدادات الميكروفون والإنترنت |
| لا يعمل التشغيل التلقائي | اسمح للمتصفح بتشغيل الصوت |
| مشاكل في الواجهة | استخدم متصفح Chrome للحصول على أفضل أداء |

للمزيد من التفاصيل، راجع [AUDIO_TROUBLESHOOTING.md](AUDIO_TROUBLESHOOTING.md)

## 🤝 المساهمة

نرحب بمساهماتكم! لتقديم مساهمة:

1. Fork المشروع
2. أنشئ branch جديد (`git checkout -b feature/AmazingFeature`)
3. Commit التغييرات (`git commit -m 'Add some AmazingFeature'`)
4. Push إلى Branch (`git push origin feature/AmazingFeature`)
5. افتح Pull Request

## 📝 الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف [LICENSE](LICENSE) للتفاصيل.

## 👥 المطورون

- **Atiaf** - *المطور الرئيسي* - [GitHub](https://github.com/atiaf77)

## 🙏 شكر وتقدير

- [Flask](https://flask.palletsprojects.com/) - إطار العمل الويب
- [SpeechRecognition](https://pypi.org/project/SpeechRecognition/) - مكتبة التعرف على الصوت
- [gTTS](https://gtts.readthedocs.io/) - تحويل النص إلى كلام
- [Bootstrap](https://getbootstrap.com/) - تصميم الواجهة
- [Font Awesome](https://fontawesome.com/) - الأيقونات

## 📞 التواصل

إذا كان لديك أسئلة أو اقتراحات، لا تتردد في فتح issue أو التواصل معنا.

---

⭐ إذا أعجبك هذا المشروع، لا تنس إعطاؤه نجمة على GitHub!
